name: Deploy my protfolio application on dev server

on:
  push:
    branches:
      - master


jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    - name: Use Node.js 16.x
      uses: actions/setup-node@v3
      with:
        node-version: "16.x"
    - run: npm i
    - run: npm run build
      if: ${{ failure() }}
    - name: This build has failed

    - uses: lazy-actions/slatify@master
    - name: Notification
      with:
        type: ${{ job.status }}
        job_name: '*Test*'
        channel: '#self'
        url: ${{ secrets.SLACK_WEBHOOK }}
      run: echo "hello"

  deploy:
    needs: build
    name: Dev deployment process
    runs-on: ubuntu-latest
    steps:
      - name: Echo
        run: echo "This step will always run"
